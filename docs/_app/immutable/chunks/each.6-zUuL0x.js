import{n as $,o as j,v as w,w as g,x as ee,y as ae,z as K,A as X,B as k,C as P,D as Q,E as re,F as H,I as L,q as ne,G as z,H as O,J as F,K as b,L as fe,M as le,N as ie,O as se,P as W,Q as ue,R as te,T as ve,U as de,V as _e,W as G,X as oe,Y as ce}from"./utils.C1SWMJ6M.js";function Te(i,e){return e}function he(i,e,a,u){for(var t=[],v=e.length,s=0;s<v;s++)fe(e[s].e,t,!0);var E=v>0&&t.length===0&&a!==null;if(E){var h=a.parentNode;le(h),h.append(a),u.clear(),C(i,e[0].prev,e[v-1].next)}ie(t,()=>{for(var c=0;c<v;c++){var _=e[c];E||(u.delete(_.k),C(i,_.prev,_.next)),se(_.e,!E)}})}function Ie(i,e,a,u,t,v=null){var s=i,E={flags:e,items:new Map,first:null},h=(e&W)!==0;if(h){var c=i;s=w?g(ue(c)):c.appendChild($())}w&&ee();var _=null,f=!1;j(()=>{var d=a(),n=ae(d)?d:d==null?[]:K(d),p=n.length;if(f&&p===0)return;f=p===0;let o=!1;if(w){var T=s.data===te;T!==(p===0)&&(s=X(),g(s),k(!1),o=!0)}if(w){for(var I=null,A,r=0;r<p;r++){if(H.nodeType===8&&H.data===ve){s=H,o=!0,k(!1);break}var l=n[r],R=u(l,r);A=m(H,E,I,null,l,R,r,t,e),E.items.set(R,A),I=A}p>0&&g(X())}w||Ee(n,E,s,t,e,u),v!==null&&(p===0?_?P(_):_=Q(()=>v(s)):_!==null&&re(_,()=>{_=null})),o&&k(!0),a()}),w&&(s=H)}function Ee(i,e,a,u,t,v){var V,Y,q,B;var s=(t&de)!==0,E=(t&(O|b))!==0,h=i.length,c=e.items,_=e.first,f=_,d,n=null,p,o=[],T=[],I,A,r,l;if(s)for(l=0;l<h;l+=1)I=i[l],A=v(I,l),r=c.get(A),r!==void 0&&((V=r.a)==null||V.measure(),(p??(p=new Set)).add(r));for(l=0;l<h;l+=1){if(I=i[l],A=v(I,l),r=c.get(A),r===void 0){var R=f?f.e.nodes_start:a;n=m(R,e,n,n===null?e.first:n.next,I,A,l,u,t),c.set(A,n),o=[],T=[],f=n.next;continue}if(E&&pe(r,I,l,t),r.e.f&L&&(P(r.e),s&&((Y=r.a)==null||Y.unfix(),(p??(p=new Set)).delete(r))),r!==f){if(d!==void 0&&d.has(r)){if(o.length<T.length){var D=T[0],x;n=D.prev;var y=o[0],M=o[o.length-1];for(x=0;x<o.length;x+=1)J(o[x],D,a);for(x=0;x<T.length;x+=1)d.delete(T[x]);C(e,y.prev,M.next),C(e,n,y),C(e,M,D),f=D,n=M,l-=1,o=[],T=[]}else d.delete(r),J(r,f,a),C(e,r.prev,r.next),C(e,r,n===null?e.first:n.next),C(e,n,r),n=r;continue}for(o=[],T=[];f!==null&&f.k!==A;)f.e.f&L||(d??(d=new Set)).add(f),T.push(f),f=f.next;if(f===null)continue;r=f}o.push(r),n=r,f=r.next}if(f!==null||d!==void 0){for(var N=d===void 0?[]:K(d);f!==null;)f.e.f&L||N.push(f),f=f.next;var S=N.length;if(S>0){var Z=t&W&&h===0?a:null;if(s){for(l=0;l<S;l+=1)(q=N[l].a)==null||q.measure();for(l=0;l<S;l+=1)(B=N[l].a)==null||B.fix()}he(e,N,Z,c)}}s&&ne(()=>{var U;if(p!==void 0)for(r of p)(U=r.a)==null||U.apply()}),z.first=e.first&&e.first.e,z.last=n&&n.e}function pe(i,e,a,u){u&O&&F(i.v,e),u&b?F(i.i,a):i.i=a}function m(i,e,a,u,t,v,s,E,h){try{var c=(h&O)!==0,_=(h&ce)===0,f=c?_?_e(t):G(t):t,d=h&b?G(s):s,n={i:d,v:f,k:v,a:null,e:null,prev:a,next:u};return n.e=Q(()=>E(i,f,d),w),n.e.prev=a&&a.e,n.e.next=u&&u.e,a===null?e.first=n:(a.next=n,a.e.next=n.e),u!==null&&(u.prev=n,u.e.prev=n.e),n}finally{}}function J(i,e,a){for(var u=i.next?i.next.e.nodes_start:a,t=e?e.e.nodes_start:a,v=i.e.nodes_start;v!==u;){var s=oe(v);t.before(v),v=s}}function C(i,e,a){e===null?i.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}export{Ie as e,Te as i};
