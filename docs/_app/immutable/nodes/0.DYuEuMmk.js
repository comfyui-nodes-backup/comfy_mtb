import{p as U,aS as se,a as q,s as z,f as w,c as S,r as P,a0 as ne,aT as W,t as E,aQ as le,i as B,m as X,g as ie}from"../chunks/utils.C1SWMJ6M.js";import{a as ce,b as M,s as ae,r as de}from"../chunks/appStore.svelte.D-z84NVe.js";import{p as ue,i as x,a as O,o as ve}from"../chunks/index-client.nC1_6-Ml.js";import{d as C,r as V,s as R,e as Y,f as fe,t as H,b as re}from"../chunks/class.BJOqaXqO.js";import{a as o,t as j,e as J,b as N,d as I,k as oe,q as he,r as _e,v as me}from"../chunks/store.DYqNbYNW.js";import{B as Z,t as Q,f as $,s as ge,I as be}from"../chunks/ButtonV2.DvYZmBpv.js";import{i as ye}from"../chunks/lifecycle.9kuDmWEv.js";import{e as T,i as F}from"../chunks/each.6-zUuL0x.js";const ke=!0,we="always",ct=Object.freeze(Object.defineProperty({__proto__:null,prerender:ke,trailingSlash:we},Symbol.toStringTag,{value:"Module"})),pe=!0,xe=(n,e)=>{const a=t=>{for(const r in e.shortcuts){const{alt:v=!1,control:f=!1,shift:m=!1}=e.shortcuts[r];if([r?r===t.code:!0,v===t.altKey,f==t.ctrlKey||f===t.metaKey,m===t.shiftKey].every(Boolean))return!0}return!1},l=t=>{e.debug&&console.log(`code: ${t.code}
	alt: ${t.altKey}
	shift: ${t.shiftKey}
	ctrl: ${t.ctrlKey}
	meta: ${t.metaKey}`)},_=(t,r)=>{if(r){for(const v in e.shortcuts)if(v===t){r(n);return}}},y=t=>{var r;e.debug&&console.log("Pressed key",t.code),a(t)&&(t.preventDefault(),l(t),e.debug&&console.log("down valid"),_(t.code,(r=e.shortcuts[t.code])==null?void 0:r.ondown))},g=t=>{var r;e.debug&&console.log("Released key",t.code),a(t)&&(t.preventDefault(),l(t),e.debug&&console.log("up valid"),_(t.code,(r=e.shortcuts[t.code])==null?void 0:r.onup))},i=()=>{window.addEventListener("keydown",y),window.addEventListener("keyup",g)},d=()=>{window.removeEventListener("keydown",y),window.removeEventListener("keyup",g)},u=()=>{i()};return u(),{update(t){e={...e,...t},u()},destroy(){d()}}};var je=j("<div></div> <!>",1);function ee(n,e){U(e,!0);let a=ue({next:()=>{console.log("Next wasn't set, you should set it from the context")},previous:()=>{console.log("Previous wasn't set, you should set it from the context")}});se("keycatch",a);var l=je(),_=w(l);ce(_,(g,i)=>xe(g,i),()=>({debug:!1,shortcuts:{IntlBackslash:{shift:!0,ondown:()=>M.debug=!M.debug},KeyJ:{ondown:()=>window.scrollBy(0,250),shift:!0},KeyK:{ondown:()=>window.scrollBy(0,-250),shift:!0},KeyN:{ondown:()=>{var g;return(g=a.next)==null?void 0:g.call(a)},shift:!0},KeyP:{ondown:()=>{var g;return(g=a.previous)==null?void 0:g.call(a)},shift:!0}}}));var y=z(_,2);C(y,()=>e.children),o(n,l),q()}var A=de(()=>M),Ke=j('<div class="feedback svelte-1j39wd5"><div class="message svelte-1j39wd5"><h1> </h1> <p> </p></div> <div class="buttons svelte-1j39wd5"><!> <!></div></div>'),Pe=j("<!> <!>",1);function te(n,e){U(e,!1);let a=le(!1);const l="Close",_="Ok",y=()=>{A().feedback&&A(A().feedback.show=!1)};ye();var g=Pe(),i=w(g);x(i,()=>{var u;return(u=A().feedback)==null?void 0:u.show},u=>{var t=Ke(),r=S(t),v=S(r),f=S(v,!0);P(v);var m=z(v,2),k=S(m,!0);P(m),P(r);var b=z(r,2),h=S(b);Z(h,{$$events:{click:()=>{var c,s;ne(a,!1),(s=(c=A().feedback)==null?void 0:c.onClose)==null||s.call(c),y()}},children:(c,s)=>{W();var K=J();E(()=>N(K,A().feedback.close?A().feedback.close:l)),o(c,K)},$$slots:{default:!0}});var p=z(h,2);x(p,()=>A().feedback.confirm,c=>{Z(c,{$$events:{click:()=>{var s,K,L;(s=A().feedback)!=null&&s.onConfirm?(L=(K=A().feedback)==null?void 0:K.onConfirm)==null||L.call(K):console.warn("@mtb/svelte-core/Feedback: No confirmation callback provided."),y()}},children:(s,K)=>{W();var L=J();E(()=>N(L,A().feedback.confirm?A().feedback.confirm:_)),o(s,L)},$$slots:{default:!0}})}),P(b),P(t),E(()=>{N(f,A().feedback.title),N(k,A().feedback.body)}),Q(5,t,()=>$,()=>({opacity:1,x:-400,duration:400})),Q(6,t,()=>$,()=>({opacity:0,y:500,duration:400})),o(u,t)});var d=z(i,2);ae(d,e,"default",{}),o(n,g),q()}var Oe=j('<span class="key svelte-1rh0w8i"> </span>'),Se=j("<!> <!>",1),Ee=j('<span class="key svelte-1rh0w8i"> </span>'),ze=j('<!> <div class="nested svelte-1rh0w8i"></div>',1),Ae=j('<span class="key svelte-1rh0w8i"> </span>'),Be=(n,e)=>e(n.target.value),Ie=j('<input type="text" class="svelte-1rh0w8i">'),Le=(n,e)=>{e(n.target.checked)},Me=j('<input type="checkbox" class="svelte-1rh0w8i">'),Ne=(n,e)=>{e(parseFloat(n.target.value))},De=j('<input type="number" class="svelte-1rh0w8i">'),Ue=j('<label class="st-container svelte-1rh0w8i"><!> <!></label>');function G(n,e){U(e,!0);let a=O(e,"store",15),l=O(e,"simple",3,!1),_=O(e,"label",3,!0),y=crypto.randomUUID();function g(u){if(l())a(u);else{let t=[];e.path.includes(".")?t=e.path.split("."):t=[e.path];let r=a();for(let f=0;f<t.length-1;(f+=1)-1){const m=t[f];r[m]||(r[m]={}),r=r[m]}const v=t[t.length-1];r[v]=u}}var i=I(),d=w(i);x(d,()=>e.value!==null,u=>{var t=I(),r=w(t);x(r,()=>typeof e.value=="object",v=>{var f=I(),m=w(f);x(m,()=>Array.isArray(e.value),k=>{var b=Se(),h=w(b);x(h,_,c=>{var s=Oe(),K=S(s);P(s),E(()=>N(K,`${e.key??""}:`)),o(c,s)});var p=z(h,2);T(p,17,()=>e.value,F,(c,s,K)=>{var L=X(()=>e.path+"["+K+"]");G(c,{label:!1,get key(){return e.key},get value(){return B(s)},get store(){return a()},get path(){return B(L)}})}),o(k,b)},k=>{var b=ze(),h=w(b);x(h,_,c=>{var s=Ee(),K=S(s);P(s),E(()=>N(K,`${e.key??""}:`)),o(c,s)});var p=z(h,2);T(p,21,()=>Object.entries(e.value),F,(c,s)=>{let K=()=>B(s)[0],L=()=>B(s)[1];var D=X(()=>e.path+"."+K());G(c,{get key(){return K()},get value(){return L()},get store(){return a()},get path(){return B(D)}})}),P(p),o(k,b)}),o(v,f)},v=>{var f=Ue(),m=S(f);x(m,_,b=>{var h=Ae(),p=S(h);P(h),E(()=>N(p,`${e.key??""}:`)),o(b,h)});var k=z(m,2);x(k,()=>typeof e.value=="string",b=>{var h=Ie();V(h),h.__input=[Be,g],E(()=>{R(h,"id",`${e.path}-${y}`),Y(h,e.value)}),o(b,h)},b=>{var h=I(),p=w(h);x(p,()=>typeof e.value=="boolean",c=>{var s=Me();V(s),s.__change=[Le,g],E(()=>{R(s,"id",`${e.path}-${y}`),fe(s,e.value)}),o(c,s)},c=>{var s=I(),K=w(s);x(K,()=>typeof e.value=="number",L=>{var D=De();V(D),D.__change=[Ne,g],E(()=>{R(D,"id",`${e.path}-${y}`),Y(D,e.value)}),o(L,D)},null,!0),o(c,s)},!0),o(b,h)}),P(f),E(()=>R(f,"for",`${e.path}-${y}`)),o(v,f)}),o(u,t)},u=>{var t=J("NULL");o(u,t)}),o(n,i),q()}oe(["input","change"]);var qe=(n,e)=>e(!e()),Ce=j('<div class="state-mang-data svelte-etbcqt"><!></div>'),Re=j('<button class="text-2xl text-bold svelte-etbcqt"><span class="svelte-etbcqt">â–¼</span> </button> <!>',1);function Te(n,e){U(e,!0);let a=O(e,"register",15),l=O(e,"isOpen",7,!1);var _=I(),y=w(_);x(y,a,g=>{var i=Re(),d=w(i);d.__click=[qe,l];var u=z(S(d));P(d);var t=z(d,2);x(t,l,r=>{var v=Ce(),f=S(v);x(f,()=>typeof a()=="object",m=>{var k=I(),b=w(k);T(b,17,()=>Object.getOwnPropertyNames(a()),F,(h,p)=>{G(h,{get value(){return a()[B(p)]},get key(){return B(p)},get store(){return a()},set store(c){a(c)},get path(){return B(p)}})}),o(m,k)},m=>{G(m,{get key(){return e.label},get value(){return a()},get store(){return a()},set store(k){a(k)},get path(){return e.label},simple:!0,label:!1})}),P(v),Q(7,v,()=>ge),o(r,v)}),E(()=>{H(d,"isOpen",l()),N(u,` ${e.label??""}`)}),o(g,i)}),o(n,_),q()}oe(["click"]);var Fe=j('<a class="svelte-zv3fyj"> </a>'),Ge=j('<h4 class="svelte-zv3fyj"> </h4>'),Ve=j('<div><button class="nub svelte-zv3fyj"><!></button> <div class="side-menu-content svelte-zv3fyj"><nav></nav> <!></div></div>');function He(n,e){let a=O(e,"top",24,()=>"10px"),l=O(e,"active",12,!1),_=O(e,"right",8,!1),y=O(e,"theme",8,""),g=O(e,"icon",8,"noto:rocket"),i=O(e,"links",24,()=>[{text:"How To Use"},{path:"/please",text:"Please"},{path:"/link-to",text:"Add `links` prop"},{path:"/link-to",text:"to populate the menu"}]);var d=Ve(),u=S(d),t=S(u);be(t,{size:"18px",get icon(){return g()}}),P(u);var r=z(u,2),v=S(r);T(v,5,i,F,(m,k)=>{var b=I(),h=w(b);x(h,()=>B(k).path,p=>{var c=Fe(),s=S(c,!0);P(c),E(()=>{R(c,"href",B(k).path),N(s,B(k).text)}),o(p,c)},p=>{var c=Ge(),s=S(c,!0);P(c),E(()=>N(s,B(k).text)),o(p,c)}),o(m,b)}),P(v);var f=z(v,2);ae(f,e,"default",{}),P(r),P(d),E(()=>{re(d,`${`side-menu ${y()}`??""} svelte-zv3fyj`),R(d,"style",`--sm-top: ${a()}`),H(d,"active",l()),H(d,"right",_())}),he("click",u,()=>l(!l())),o(n,d)}var Je=j("<div></div>");function Qe(n,e){U(e,!0);let a=O(e,"top",3,"10%"),l=O(e,"icon",3,"unjs:magic-regexp"),_=O(e,"theme",3,""),g=Object.keys(e.register).map(i=>({label:i,store:e.register[i]}));He(n,{get theme(){return _()},get icon(){return l()},get top(){return a()},links:[],children:(i,d)=>{var u=Je();T(u,21,()=>g,F,(t,r,v)=>{let f=()=>B(r).store,m=()=>B(r).label;Te(t,{isOpen:v===0,get register(){return f()},get label(){return m()}})}),P(u),E(()=>re(u,`state-mang ${_()}`)),o(i,u)},$$slots:{default:!0}}),q()}function We(n,e){let a=[];if(Array.isArray(n))a=n;else if(typeof n=="object")a=Object.keys(n);else{console.error("Props must be an object or a list");return}let l={};for(const _ of a)Object.defineProperty(l,_,{set(y){e[_]=y},get(){return e[_]}});return l}const Xe=n=>{const e=Object.getPrototypeOf(n);let a=[];for(const l of Object.getOwnPropertyNames(e))l!=="constructor"&&(typeof n[l]=="function"||a.push(l));return We(a,n)};var Ye=me(`<script>
    let detected_theme =
      localStorage?.getItem('mtb:theme') ||
      (window.matchMedia('(prefers-color-scheme: dark)').matches
        ? 'dark'
        : 'pastel')
    document.documentElement.setAttribute('data-theme', detected_theme)
  <\/script><!---->`,1),Ze=j("<!> <!>",1),$e=j("<!> <!>",1);function et(n,e){U(e,!0);let a=O(e,"tab_debug",3,!1),l=O(e,"feedback",3,!0);ve(()=>{window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",i=>{const d=i.matches?"dark":"light";console.log(i.matches),M.theme=d}),M.setup()}),ie(()=>{if(!M.theme&&pe){let i=localStorage==null?void 0:localStorage.getItem("mtb:theme");i?M.theme=i:M.theme=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}});const _={appStore:Xe(M)};var y=I();_e(i=>{var d=Ye();z(w(d)),o(i,d)});var g=w(y);x(g,()=>a()&&!l(),i=>{ee(i,{children:(d,u)=>{var t=Ze(),r=w(t);x(r,()=>M.debug,f=>{});var v=z(r,2);C(v,()=>e.children),o(d,t)},$$slots:{default:!0}})},i=>{var d=I(),u=w(d);x(u,()=>a()&&l(),t=>{te(t,{children:(r,v)=>{ee(r,{children:(f,m)=>{var k=$e(),b=w(k);x(b,()=>M.debug,p=>{Qe(p,{register:_})});var h=z(b,2);C(h,()=>e.children),o(f,k)},$$slots:{default:!0}})},$$slots:{default:!0}})},t=>{var r=I(),v=w(r);x(v,l,f=>{te(f,{children:(m,k)=>{var b=I(),h=w(b);C(h,()=>e.children),o(m,b)},$$slots:{default:!0}})},f=>{var m=I(),k=w(m);C(k,()=>e.children),o(f,m)},!0),o(t,r)},!0),o(i,d)}),o(n,y),q()}function dt(n,e){U(e,!0),et(n,{children:(a,l)=>{var _=I(),y=w(_);C(y,()=>e.children),o(a,_)},$$slots:{default:!0}}),q()}export{dt as component,ct as universal};
